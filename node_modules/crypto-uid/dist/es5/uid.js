import { __read, __spread } from "tslib";
/**
 * Generate cryptographically strong random values
 * @see https://developer.mozilla.org/en-US/docs/Web/API/Crypto
 * @param byteLength
 */
function getRandomBytes(byteLength) {
    var bytes = new Uint8Array(byteLength);
    crypto.getRandomValues(bytes);
    return bytes;
}
/**
 * Convert a byte array to a base64 string
 * @param bytes
 */
function toBase64(bytes) {
    var str = String.fromCharCode.apply(String, __spread(bytes));
    return btoa(str);
}
/**
 * Generate a cryptographically secure random string
 * @param byteLength
 */
export default function uid(byteLength) {
    if (byteLength === void 0) { byteLength = 12; }
    var bytes = getRandomBytes(byteLength);
    var base64 = toBase64(bytes);
    return base64.replace(/=+$/, '')
        .replace(/\+/g, '-')
        .replace(/\//g, '_');
}
//# sourceMappingURL=uid.js.map